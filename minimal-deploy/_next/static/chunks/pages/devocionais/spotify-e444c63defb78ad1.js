(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{4567:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/devocionais/spotify",function(){return a(1522)}])},1522:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return SpotifyIntegration}});var i=a(5893),s=a(7294),l=a(121),o=a(7262),r=a.n(o),n=a(3343),c=a(1163);function SpotifyIntegration(){let[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(null),[p,d]=(0,s.useState)([]),[y,_]=(0,s.useState)(null),[m,f]=(0,s.useState)([]),[u,g]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[v,S]=(0,s.useState)(""),{isAuthenticated:I}=(0,n.aC)(),j=(0,c.useRouter)();(0,s.useEffect)(()=>{I()||j.push("/auth/login?redirect="+encodeURIComponent(j.asPath))},[I,j]),(0,s.useEffect)(()=>{(()=>{let e=localStorage.getItem("spotify_token");e&&(o(e),t(!0),fetchPlaylists(e))})()},[]),(0,s.useEffect)(()=>{j.isReady&&j.query.code&&handleSpotifyCallback(j.query.code)},[j.isReady,j.query]);let simulateSpotifyAuth=()=>{setTimeout(()=>{let e="mock_spotify_token_"+Math.random().toString(36).substring(2);localStorage.setItem("spotify_token",e),o(e),t(!0),fetchPlaylists(e)},1500)},handleSpotifyCallback=e=>{console.log("C\xf3digo de autoriza\xe7\xe3o recebido:",e);let a="mock_spotify_token_"+Math.random().toString(36).substring(2);localStorage.setItem("spotify_token",a),o(a),t(!0),fetchPlaylists(a),j.replace("/devocionais/spotify",void 0,{shallow:!0})},fetchPlaylists=e=>{setTimeout(()=>{d([{id:"playlist1",name:"Devocionais Prof\xe9ticos",description:"Reflex\xf5es sobre profecias b\xedblicas e sua aplica\xe7\xe3o para os dias atuais",images:[{url:"/images/playlist1.jpg"}],tracks:{total:7}},{id:"playlist2",name:"Medita\xe7\xf5es Escatol\xf3gicas",description:"Medita\xe7\xf5es sobre os eventos finais e a volta de Cristo",images:[{url:"/images/playlist2.jpg"}],tracks:{total:5}},{id:"playlist3",name:"Batalha Espiritual",description:"Reflex\xf5es sobre a guerra espiritual nos \xfaltimos dias",images:[{url:"/images/playlist3.jpg"}],tracks:{total:6}},{id:"playlist4",name:"Prepara\xe7\xe3o para os \xdaltimos Dias",description:"Como se preparar espiritualmente para os eventos finais",images:[{url:"/images/playlist4.jpg"}],tracks:{total:8}}])},1e3)},fetchTracks=e=>{let t=p.find(t=>t.id===e);_(t),setTimeout(()=>{f([{id:"track1",name:"A Grande Tribula\xe7\xe3o",artists:[{name:"Pastor Jo\xe3o Silva"}],duration_ms:9e5,album:{images:[{url:"/images/track1.jpg"}]}},{id:"track2",name:"Os Sete Selos do Apocalipse",artists:[{name:"Pastor Jo\xe3o Silva"}],duration_ms:12e5,album:{images:[{url:"/images/track2.jpg"}]}},{id:"track3",name:"A Marca da Besta",artists:[{name:"Pastor Jo\xe3o Silva"}],duration_ms:108e4,album:{images:[{url:"/images/track3.jpg"}]}},{id:"track4",name:"O Arrebatamento da Igreja",artists:[{name:"Pastor Jo\xe3o Silva"}],duration_ms:96e4,album:{images:[{url:"/images/track4.jpg"}]}},{id:"track5",name:"As Duas Testemunhas",artists:[{name:"Pastor Jo\xe3o Silva"}],duration_ms:114e4,album:{images:[{url:"/images/track5.jpg"}]}}])},800)},playTrack=e=>{h(e),g(!0)},formatDuration=e=>{let t=(e%6e4/1e3).toFixed(0);return"".concat(Math.floor(e/6e4),":").concat(t<10?"0":"").concat(t)};return(0,i.jsx)(l.Z,{title:"Integra\xe7\xe3o com Spotify | Apocalypse Academy",children:(0,i.jsxs)("div",{className:r().spotifyContainer,children:[(0,i.jsxs)("div",{className:r().spotifyHeader,children:[(0,i.jsx)("h1",{className:r().spotifyTitle,children:"DEVOCIONAIS NO SPOTIFY"}),(0,i.jsx)("p",{className:r().spotifyDescription,children:"Conecte-se ao Spotify para acessar nossos devocionais em \xe1udio e playlists exclusivas."})]}),v&&(0,i.jsx)("div",{className:r().errorMessage,children:v}),e?(0,i.jsxs)("div",{className:r().spotifyContent,children:[(0,i.jsxs)("div",{className:r().spotifyNav,children:[(0,i.jsxs)("div",{className:r().navHeader,children:[(0,i.jsx)("h2",{className:r().navTitle,children:"Playlists"}),(0,i.jsx)("button",{className:r().disconnectButton,onClick:()=>{localStorage.removeItem("spotify_token"),o(null),t(!1),d([]),_(null),f([]),h(null)},children:"Desconectar"})]}),(0,i.jsx)("div",{className:r().playlistsList,children:p.map(e=>(0,i.jsxs)("div",{className:"".concat(r().playlistItem," ").concat(y&&y.id===e.id?r().active:""),onClick:()=>fetchTracks(e.id),children:[(0,i.jsx)("div",{className:r().playlistImage}),(0,i.jsxs)("div",{className:r().playlistInfo,children:[(0,i.jsx)("h3",{className:r().playlistName,children:e.name}),(0,i.jsxs)("p",{className:r().playlistTracks,children:[e.tracks.total," faixas"]})]})]},e.id))})]}),(0,i.jsx)("div",{className:r().spotifyMain,children:y?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:r().playlistHeader,children:[(0,i.jsx)("div",{className:r().playlistHeaderImage}),(0,i.jsxs)("div",{className:r().playlistHeaderInfo,children:[(0,i.jsx)("span",{className:r().playlistType,children:"PLAYLIST"}),(0,i.jsx)("h2",{className:r().playlistHeaderName,children:y.name}),(0,i.jsx)("p",{className:r().playlistHeaderDescription,children:y.description}),(0,i.jsxs)("div",{className:r().playlistMeta,children:[(0,i.jsx)("span",{children:"Apocalypse Academy"}),(0,i.jsx)("span",{children:"â€¢"}),(0,i.jsxs)("span",{children:[y.tracks.total," faixas"]})]})]})]}),(0,i.jsxs)("div",{className:r().tracksList,children:[(0,i.jsxs)("div",{className:r().tracksHeader,children:[(0,i.jsx)("div",{className:r().trackNumberHeader,children:"#"}),(0,i.jsx)("div",{className:r().trackTitleHeader,children:"T\xcdTULO"}),(0,i.jsx)("div",{className:r().trackDurationHeader,children:"DURA\xc7\xc3O"})]}),m.map((e,t)=>(0,i.jsxs)("div",{className:"".concat(r().trackItem," ").concat(x&&x.id===e.id?r().playing:""),onClick:()=>playTrack(e),children:[(0,i.jsx)("div",{className:r().trackNumber,children:x&&x.id===e.id&&u?(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:(0,i.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):t+1}),(0,i.jsxs)("div",{className:r().trackInfo,children:[(0,i.jsx)("div",{className:r().trackTitle,children:e.name}),(0,i.jsx)("div",{className:r().trackArtist,children:e.artists[0].name})]}),(0,i.jsx)("div",{className:r().trackDuration,children:formatDuration(e.duration_ms)})]},e.id))]})]}):(0,i.jsx)("div",{className:r().noPlaylistSelected,children:(0,i.jsx)("p",{children:"Selecione uma playlist para ver as faixas dispon\xedveis."})})}),x&&(0,i.jsxs)("div",{className:r().playerBar,children:[(0,i.jsxs)("div",{className:r().playerTrackInfo,children:[(0,i.jsx)("div",{className:r().playerTrackImage}),(0,i.jsxs)("div",{className:r().playerTrackDetails,children:[(0,i.jsx)("div",{className:r().playerTrackTitle,children:x.name}),(0,i.jsx)("div",{className:r().playerTrackArtist,children:x.artists[0].name})]})]}),(0,i.jsxs)("div",{className:r().playerControls,children:[(0,i.jsx)("button",{className:r().playerButton,children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:(0,i.jsx)("path",{d:"M6 6h2v12H6zm3.5 6l8.5 6V6z"})})}),u?(0,i.jsx)("button",{className:"".concat(r().playerButton," ").concat(r().playPauseButton),onClick:()=>{g(!1)},children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:(0,i.jsx)("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})})}):(0,i.jsx)("button",{className:"".concat(r().playerButton," ").concat(r().playPauseButton),onClick:()=>{g(!0)},children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:(0,i.jsx)("path",{d:"M8 5v14l11-7z"})})}),(0,i.jsx)("button",{className:r().playerButton,children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:(0,i.jsx)("path",{d:"M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"})})})]}),(0,i.jsxs)("div",{className:r().playerVolume,children:[(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"16",height:"16",fill:"currentColor",children:(0,i.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})}),(0,i.jsxs)("div",{className:r().volumeSlider,children:[(0,i.jsx)("div",{className:r().volumeProgress}),(0,i.jsx)("div",{className:r().volumeHandle})]})]})]})]}):(0,i.jsxs)("div",{className:r().connectSection,children:[(0,i.jsx)("div",{className:r().spotifyLogo,children:(0,i.jsx)("svg",{viewBox:"0 0 24 24",width:"80",height:"80",fill:"#1DB954",children:(0,i.jsx)("path",{d:"M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141C9.6 9.9 15 10.561 18.72 12.84c.361.181.54.78.241 1.2zm.12-3.36C15.24 8.4 8.82 8.16 5.16 9.301c-.6.179-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.381 4.26-1.26 11.28-1.02 15.721 1.621.539.3.719 1.02.419 1.56-.299.421-1.02.599-1.559.3z"})})}),(0,i.jsx)("p",{className:r().connectText,children:"Conecte-se ao Spotify para acessar playlists exclusivas de devocionais e \xe1udios prof\xe9ticos."}),(0,i.jsx)("button",{className:r().connectButton,onClick:()=>{simulateSpotifyAuth()},children:"Conectar com Spotify"})]})]})})}},7262:function(e){e.exports={spotifyContainer:"SpotifyIntegration_spotifyContainer__ocp4i",spotifyHeader:"SpotifyIntegration_spotifyHeader__pi_V6",spotifyTitle:"SpotifyIntegration_spotifyTitle__fWMwz",spotifyDescription:"SpotifyIntegration_spotifyDescription__zXvdw",connectSection:"SpotifyIntegration_connectSection__ZIRrc",spotifyLogo:"SpotifyIntegration_spotifyLogo__ZQxeD",connectText:"SpotifyIntegration_connectText__FRJjr",connectButton:"SpotifyIntegration_connectButton__YR61L",spotifyContent:"SpotifyIntegration_spotifyContent__1ZsVk",spotifyNav:"SpotifyIntegration_spotifyNav__XaBwn",navHeader:"SpotifyIntegration_navHeader__4cm_I",navTitle:"SpotifyIntegration_navTitle__UjcAe",disconnectButton:"SpotifyIntegration_disconnectButton__isFKi",playlistsList:"SpotifyIntegration_playlistsList__0_FJe",playlistItem:"SpotifyIntegration_playlistItem__c7Lq7",active:"SpotifyIntegration_active__9rVwE",playlistImage:"SpotifyIntegration_playlistImage__bXKrV",playlistInfo:"SpotifyIntegration_playlistInfo__61XlP",playlistName:"SpotifyIntegration_playlistName__TnTQE",playlistTracks:"SpotifyIntegration_playlistTracks__3UbTb",spotifyMain:"SpotifyIntegration_spotifyMain__UmYMj",playlistHeader:"SpotifyIntegration_playlistHeader__jff7s",playlistHeaderImage:"SpotifyIntegration_playlistHeaderImage__AqVHU",playlistHeaderInfo:"SpotifyIntegration_playlistHeaderInfo__3n1OQ",playlistType:"SpotifyIntegration_playlistType__Vk_r2",playlistHeaderName:"SpotifyIntegration_playlistHeaderName__enwrI",playlistHeaderDescription:"SpotifyIntegration_playlistHeaderDescription__yEza0",playlistMeta:"SpotifyIntegration_playlistMeta__LfSKN",tracksList:"SpotifyIntegration_tracksList__fdkzc",tracksHeader:"SpotifyIntegration_tracksHeader__FcOl4",trackItem:"SpotifyIntegration_trackItem___91I5",playing:"SpotifyIntegration_playing__Ypfpo",trackNumber:"SpotifyIntegration_trackNumber__2UW36",trackInfo:"SpotifyIntegration_trackInfo__nMNl2",trackTitle:"SpotifyIntegration_trackTitle__TJxxF",trackArtist:"SpotifyIntegration_trackArtist__aNpKX",trackDuration:"SpotifyIntegration_trackDuration__rzGLs",noPlaylistSelected:"SpotifyIntegration_noPlaylistSelected__mwuo8",playerBar:"SpotifyIntegration_playerBar__urXVJ",playerTrackInfo:"SpotifyIntegration_playerTrackInfo__xNeaW",playerTrackImage:"SpotifyIntegration_playerTrackImage__77Gpb",playerTrackDetails:"SpotifyIntegration_playerTrackDetails__gueOs",playerTrackTitle:"SpotifyIntegration_playerTrackTitle__7sjXK",playerTrackArtist:"SpotifyIntegration_playerTrackArtist__tNiPB",playerControls:"SpotifyIntegration_playerControls__QKTQp",playerButton:"SpotifyIntegration_playerButton__9MXoE",playPauseButton:"SpotifyIntegration_playPauseButton__DOFg4",playerVolume:"SpotifyIntegration_playerVolume___C3Sx",volumeSlider:"SpotifyIntegration_volumeSlider__oYx17",volumeProgress:"SpotifyIntegration_volumeProgress__yIjqh",volumeHandle:"SpotifyIntegration_volumeHandle__hqY4t",errorMessage:"SpotifyIntegration_errorMessage__BClR8"}}},function(e){e.O(0,[664,121,774,888,179],function(){return e(e.s=4567)}),_N_E=e.O()}]);