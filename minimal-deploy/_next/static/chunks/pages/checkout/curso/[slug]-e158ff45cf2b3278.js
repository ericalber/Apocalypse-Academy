(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{4830:function(e,a,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/curso/[slug]",function(){return s(1732)}])},4706:function(e,a,s){"use strict";var r=s(5893);s(7294);var n=s(1664),t=s.n(n),c=s(1163),o=s(4313),i=s.n(o);a.Z=e=>{let{customItems:a=null,className:s=""}=e,n=(0,c.useRouter)(),o=(()=>{if(a)return a;let e=n.asPath.split("/").filter(e=>e),s=[{label:"Home",href:"/"}],r="";return e.forEach((a,n)=>{r+="/".concat(a);let t=a.split("?")[0].split("#")[0],c={documentarios:"Document\xe1rios",cursos:"Cursos",revistas:"Revistas",entrar:"Login",registrar:"Cadastro",admin:"Administra\xe7\xe3o",midia:"M\xeddia",perfil:"Perfil",assinatura:"Assinatura",checkout:"Checkout",sobre:"Sobre",contato:"Contato","politica-privacidade":"Pol\xedtica de Privacidade","termos-uso":"Termos de Uso"}[t]||t.charAt(0).toUpperCase()+t.slice(1);s.push({label:c,href:r,isLast:n===e.length-1})}),s})();return"/"===n.pathname?null:(0,r.jsx)("nav",{className:"".concat(i().breadcrumb," ").concat(s),"aria-label":"Breadcrumb",children:(0,r.jsx)("ol",{className:i().breadcrumbList,children:o.map((e,a)=>(0,r.jsx)("li",{className:i().breadcrumbItem,children:e.isLast||a===o.length-1?(0,r.jsx)("span",{className:i().breadcrumbCurrent,"aria-current":"page",children:e.label}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t(),{href:e.href,className:i().breadcrumbLink,children:e.label}),(0,r.jsx)("span",{className:i().breadcrumbSeparator,"aria-hidden":"true",children:"›"})]})},a))})})}},1732:function(e,a,s){"use strict";s.r(a);var r=s(5893),n=s(7294),t=s(1664),c=s.n(t),o=s(1163),i=s(4706),l=s(7663),u=s.n(l);a.default=()=>{let e=(0,o.useRouter)(),{slug:a}=e.query,[s,t]=(0,n.useState)(null),[l,d]=(0,n.useState)(!0),[m,h]=(0,n.useState)(!1),[p,_]=(0,n.useState)(null),[x,b]=(0,n.useState)({email:"",name:"",phone:"",document:"",paymentMethod:"credit_card",installments:1,coupon:""}),[j,C]=(0,n.useState)({}),f={id:1,slug:"escatologia-biblica-avancada",title:"Escatologia B\xedblica Avan\xe7ada",description:"Estudo completo sobre os \xfaltimos tempos, incluindo an\xe1lise das profecias de Daniel e Apocalipse.",price:197,originalPrice:297,discount:34,instructor:"Eric Alberto da Cruz",duration:"12 horas",lessons:24,thumbnail:"/images/courses/escatologia-avancada.jpg",features:["Acesso vital\xedcio ao curso","Certificado de conclus\xe3o","Suporte do instrutor","30 dias de garantia","Acesso mobile e desktop"]};(0,n.useEffect)(()=>{if(a){loadCourse();let e=new URLSearchParams(window.location.search),a=e.get("ref");if(a)_(a),localStorage.setItem("affiliateId",a);else{let e=localStorage.getItem("affiliateId");e&&_(e)}}},[a]);let loadCourse=()=>{d(!0),setTimeout(()=>{a===f.slug&&t(f),d(!1)},500)},handleInputChange=e=>{let{name:a,value:s}=e.target;b(e=>({...e,[a]:s})),j[a]&&C(e=>({...e,[a]:""}))},validateForm=()=>{let e={};return x.email?/\S+@\S+\.\S+/.test(x.email)||(e.email="Email inv\xe1lido"):e.email="Email \xe9 obrigat\xf3rio",x.name||(e.name="Nome \xe9 obrigat\xf3rio"),x.phone||(e.phone="Telefone \xe9 obrigat\xf3rio"),x.document||(e.document="CPF \xe9 obrigat\xf3rio"),C(e),0===Object.keys(e).length},handleSubmit=async a=>{if(a.preventDefault(),validateForm()){h(!0);try{let a={course:s,customer:x,affiliateId:p,amount:s.price,paymentMethod:x.paymentMethod,installments:x.installments};console.log("Processando pagamento:",a),await new Promise(e=>setTimeout(e,3e3)),Math.random()>.1?(localStorage.removeItem("affiliateId"),e.push("/checkout/sucesso?curso=".concat(s.slug,"&ref=").concat(p||""))):e.push("/checkout/erro?curso=".concat(s.slug,"&ref=").concat(p||""))}catch(a){console.error("Erro no checkout:",a),e.push("/checkout/erro?curso=".concat(s.slug,"&ref=").concat(p||""))}finally{h(!1)}}},calculateInstallmentValue=()=>(s.price/x.installments).toFixed(2);if(l)return(0,r.jsxs)("div",{className:u().loading,children:[(0,r.jsx)("div",{className:u().spinner}),(0,r.jsx)("p",{children:"Carregando checkout..."})]});if(!s)return(0,r.jsxs)("div",{className:u().notFound,children:[(0,r.jsx)("h1",{children:"Curso n\xe3o encontrado"}),(0,r.jsx)("p",{children:"O curso que voc\xea est\xe1 tentando comprar n\xe3o foi encontrado."}),(0,r.jsx)(c(),{href:"/cursos",className:u().backBtn,children:"Voltar aos cursos"})]});let g=[{label:"Home",href:"/"},{label:"Cursos",href:"/cursos"},{label:s.title,href:"/cursos/".concat(s.slug)},{label:"Checkout",href:"#",isLast:!0}];return(0,r.jsxs)("div",{className:u().checkoutPage,children:[(0,r.jsx)(i.Z,{customItems:g}),(0,r.jsx)("div",{className:u().checkoutContainer,children:(0,r.jsxs)("div",{className:u().checkoutLayout,children:[(0,r.jsxs)("div",{className:u().orderSummary,children:[(0,r.jsx)("h2",{children:"Resumo do Pedido"}),(0,r.jsxs)("div",{className:u().courseCard,children:[(0,r.jsx)("img",{src:s.thumbnail,alt:s.title,className:u().courseThumbnail}),(0,r.jsxs)("div",{className:u().courseInfo,children:[(0,r.jsx)("h3",{children:s.title}),(0,r.jsxs)("p",{children:["Por: ",s.instructor]}),(0,r.jsxs)("div",{className:u().courseDetails,children:[(0,r.jsxs)("span",{children:["\uD83D\uDD52 ",s.duration]}),(0,r.jsxs)("span",{children:["\uD83D\uDCF9 ",s.lessons," aulas"]})]})]})]}),(0,r.jsxs)("div",{className:u().priceBreakdown,children:[(0,r.jsxs)("div",{className:u().priceRow,children:[(0,r.jsx)("span",{children:"Pre\xe7o original:"}),(0,r.jsxs)("span",{className:u().originalPrice,children:["R$ ",s.originalPrice]})]}),(0,r.jsxs)("div",{className:u().priceRow,children:[(0,r.jsxs)("span",{children:["Desconto (",s.discount,"%):"]}),(0,r.jsxs)("span",{className:u().discount,children:["-R$ ",s.originalPrice-s.price]})]}),(0,r.jsxs)("div",{className:u().priceRow+" "+u().total,children:[(0,r.jsx)("span",{children:"Total:"}),(0,r.jsxs)("span",{className:u().finalPrice,children:["R$ ",s.price]})]})]}),(0,r.jsxs)("div",{className:u().features,children:[(0,r.jsx)("h4",{children:"Inclu\xeddo no curso:"}),(0,r.jsx)("ul",{children:s.features.map((e,a)=>(0,r.jsxs)("li",{children:["✓ ",e]},a))})]}),p&&(0,r.jsx)("div",{className:u().affiliateInfo,children:(0,r.jsxs)("span",{className:u().affiliateBadge,children:["\uD83E\uDD1D Compra via afiliado: ",p]})})]}),(0,r.jsxs)("div",{className:u().checkoutForm,children:[(0,r.jsx)("h2",{children:"Finalizar Compra"}),(0,r.jsxs)("form",{onSubmit:handleSubmit,children:[(0,r.jsxs)("div",{className:u().formSection,children:[(0,r.jsx)("h3",{children:"Dados Pessoais"}),(0,r.jsxs)("div",{className:u().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"email",children:"Email *"}),(0,r.jsx)("input",{type:"email",id:"email",name:"email",value:x.email,onChange:handleInputChange,className:j.email?u().error:"",placeholder:"seu@email.com"}),j.email&&(0,r.jsx)("span",{className:u().errorMessage,children:j.email})]}),(0,r.jsxs)("div",{className:u().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"name",children:"Nome Completo *"}),(0,r.jsx)("input",{type:"text",id:"name",name:"name",value:x.name,onChange:handleInputChange,className:j.name?u().error:"",placeholder:"Seu nome completo"}),j.name&&(0,r.jsx)("span",{className:u().errorMessage,children:j.name})]}),(0,r.jsxs)("div",{className:u().inputRow,children:[(0,r.jsxs)("div",{className:u().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"phone",children:"Telefone *"}),(0,r.jsx)("input",{type:"tel",id:"phone",name:"phone",value:x.phone,onChange:handleInputChange,className:j.phone?u().error:"",placeholder:"(11) 99999-9999"}),j.phone&&(0,r.jsx)("span",{className:u().errorMessage,children:j.phone})]}),(0,r.jsxs)("div",{className:u().inputGroup,children:[(0,r.jsx)("label",{htmlFor:"document",children:"CPF *"}),(0,r.jsx)("input",{type:"text",id:"document",name:"document",value:x.document,onChange:handleInputChange,className:j.document?u().error:"",placeholder:"000.000.000-00"}),j.document&&(0,r.jsx)("span",{className:u().errorMessage,children:j.document})]})]})]}),(0,r.jsxs)("div",{className:u().formSection,children:[(0,r.jsx)("h3",{children:"Forma de Pagamento"}),(0,r.jsxs)("div",{className:u().paymentMethods,children:[(0,r.jsxs)("label",{className:u().paymentOption,children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"credit_card",checked:"credit_card"===x.paymentMethod,onChange:handleInputChange}),(0,r.jsx)("span",{children:"\uD83D\uDCB3 Cart\xe3o de Cr\xe9dito"})]}),(0,r.jsxs)("label",{className:u().paymentOption,children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"pix",checked:"pix"===x.paymentMethod,onChange:handleInputChange}),(0,r.jsx)("span",{children:"\uD83D\uDCF1 PIX (5% desconto)"})]}),(0,r.jsxs)("label",{className:u().paymentOption,children:[(0,r.jsx)("input",{type:"radio",name:"paymentMethod",value:"boleto",checked:"boleto"===x.paymentMethod,onChange:handleInputChange}),(0,r.jsx)("span",{children:"\uD83E\uDDFE Boleto Banc\xe1rio"})]})]}),"credit_card"===x.paymentMethod&&(0,r.jsxs)("div",{className:u().installments,children:[(0,r.jsx)("label",{htmlFor:"installments",children:"Parcelas"}),(0,r.jsxs)("select",{id:"installments",name:"installments",value:x.installments,onChange:handleInputChange,children:[(0,r.jsxs)("option",{value:1,children:["1x de R$ ",s.price," (\xe0 vista)"]}),(0,r.jsxs)("option",{value:2,children:["2x de R$ ",calculateInstallmentValue()]}),(0,r.jsxs)("option",{value:3,children:["3x de R$ ",calculateInstallmentValue()]}),(0,r.jsxs)("option",{value:6,children:["6x de R$ ",calculateInstallmentValue()]}),(0,r.jsxs)("option",{value:12,children:["12x de R$ ",calculateInstallmentValue()]})]})]})]}),(0,r.jsxs)("div",{className:u().formSection,children:[(0,r.jsx)("h3",{children:"Cupom de Desconto"}),(0,r.jsxs)("div",{className:u().couponGroup,children:[(0,r.jsx)("input",{type:"text",name:"coupon",value:x.coupon,onChange:handleInputChange,placeholder:"Digite seu cupom"}),(0,r.jsx)("button",{type:"button",className:u().couponBtn,children:"Aplicar"})]})]}),(0,r.jsx)("button",{type:"submit",className:u().submitBtn,disabled:m,children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:u().spinner}),"Processando..."]}):"Finalizar Compra - R$ ".concat(s.price)}),(0,r.jsxs)("div",{className:u().security,children:[(0,r.jsx)("span",{children:"\uD83D\uDD12 Compra 100% segura e protegida"}),(0,r.jsx)("span",{children:"✓ 30 dias de garantia"})]})]})]})]})})]})}},4313:function(e){e.exports={breadcrumb:"Breadcrumb_breadcrumb__9OPrz",breadcrumbList:"Breadcrumb_breadcrumbList__WVdjx",breadcrumbItem:"Breadcrumb_breadcrumbItem__Le79v",breadcrumbLink:"Breadcrumb_breadcrumbLink__yl_39",breadcrumbSeparator:"Breadcrumb_breadcrumbSeparator__56ehN",breadcrumbCurrent:"Breadcrumb_breadcrumbCurrent__3E6x7",compact:"Breadcrumb_compact__4qFx4",transparent:"Breadcrumb_transparent__FgOec",dark:"Breadcrumb_dark__kf8mD",breadcrumbFadeIn:"Breadcrumb_breadcrumbFadeIn__mA2GP",loading:"Breadcrumb_loading__y9WDZ",admin:"Breadcrumb_admin__HcLvq",course:"Breadcrumb_course__vXVwb",documentary:"Breadcrumb_documentary__L19U6"}},7663:function(e){e.exports={checkoutPage:"Checkout_checkoutPage__Ll37S",checkoutContainer:"Checkout_checkoutContainer__DvWel",checkoutLayout:"Checkout_checkoutLayout__30HmU",orderSummary:"Checkout_orderSummary__QF6Nn",courseCard:"Checkout_courseCard__9Js0_",courseThumbnail:"Checkout_courseThumbnail__MlLzs",courseInfo:"Checkout_courseInfo__SEXiE",courseDetails:"Checkout_courseDetails__DQZB5",priceBreakdown:"Checkout_priceBreakdown__xZWBS",priceRow:"Checkout_priceRow__juSwO",originalPrice:"Checkout_originalPrice__uQwBI",discount:"Checkout_discount__lo6vw",total:"Checkout_total__uMZge",finalPrice:"Checkout_finalPrice__SqQ1D",features:"Checkout_features___MrvL",affiliateInfo:"Checkout_affiliateInfo__inKfL",affiliateBadge:"Checkout_affiliateBadge__XmpHY",checkoutForm:"Checkout_checkoutForm__WZoT_",formSection:"Checkout_formSection__1jDTs",inputGroup:"Checkout_inputGroup__v_t_d",error:"Checkout_error__8WMaS",inputRow:"Checkout_inputRow__CgppC",errorMessage:"Checkout_errorMessage__LGw4z",paymentMethods:"Checkout_paymentMethods__SqLT1",paymentOption:"Checkout_paymentOption__zMebM",installments:"Checkout_installments__Op1Td",couponGroup:"Checkout_couponGroup__CkI_E",couponBtn:"Checkout_couponBtn__pm92K",submitBtn:"Checkout_submitBtn__q6utF",security:"Checkout_security__kWB4_",loading:"Checkout_loading__M6NhU",spinner:"Checkout_spinner__g4iXv",spin:"Checkout_spin__ScwwW",notFound:"Checkout_notFound__4sZI3",backBtn:"Checkout_backBtn__ThzJ_"}},1163:function(e,a,s){e.exports=s(9974)}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);